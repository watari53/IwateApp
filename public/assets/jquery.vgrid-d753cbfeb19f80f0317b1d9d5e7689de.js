!function(t){function a(a){var n,d,o,r=a.data("_vgchild"),c=a.width(),s=[[0,c,0]],v=0;r.each(function(){return n=t(this),"none"==n.css("display")?!0:(d=g(n),o=e(s,d[0]),s=i(s,o,d),v=Math.max(v,o[1]+d[1]),n.data("_vgleft",o[0]),void n.data("_vgtop",o[1]))}),a.data("_vgwrapheight",v),p(a)}function e(t,a){for(var e=t.concat().sort(n),i=e[e.length-1][2],d=0,o=e.length;o>d&&!(e[d][2]>=i);d++)if(e[d][1]-e[d][0]>=a)return[e[d][0],e[d][2]];return[0,i]}function i(t,a,e){for(var i=t.concat().sort(n),d=[a[0],a[0]+e[0],a[1]+e[1]],g=0,p=i.length;p>g;g++)d[0]<=i[g][0]&&i[g][1]<=d[1]?delete i[g]:i[g]=r(i[g],d);return o(i,d)}function n(t,a){return t&&a?t[2]==a[2]&&t[0]>a[0]||t[2]>a[2]?1:-1:0}function d(t,a){return t&&a?t[0]>a[0]?1:-1:0}function o(t,a){for(var e=t.concat([a]).sort(d),i=[],n=0,o=e.length;o>n;n++)e[n]&&(i.length>0&&i[i.length-1][1]==e[n][0]&&i[i.length-1][2]==e[n][2]?i[i.length-1][1]=e[n][1]:i.push(e[n]));return i}function r(t,a){return(t[0]>=a[0]&&t[0]<a[1]||t[1]>=a[0]&&t[1]<a[1])&&(t[0]>=a[0]&&t[0]<a[1]?t[0]=a[1]:t[1]=a[0]),t}function g(t){var a=t.width(),e=t.height();return a+=Number(t.css("margin-left").replace("px",""))+Number(t.css("padding-left").replace("px",""))+Number(t.get(0).style.borderLeftWidth.replace("px",""))+Number(t.css("margin-right").replace("px",""))+Number(t.css("padding-right").replace("px",""))+Number(t.get(0).style.borderRightWidth.replace("px","")),e+=Number(t.css("margin-top").replace("px",""))+Number(t.css("padding-top").replace("px",""))+Number(t.get(0).style.borderTopWidth.replace("px",""))+Number(t.css("margin-bottom").replace("px",""))+Number(t.css("padding-bottom").replace("px",""))+Number(t.get(0).style.borderBottomWidth.replace("px","")),[a,e]}function p(a){var e=a,i=e.data("_vgchild").length*(e.data("_vgopt").delay||0)+e.data("_vgopt").time||500;e.stop(),e.height()<e.data("_vgwrapheight")?t.browser.msie?e.height(e.data("_vgwrapheight")):e.animate({height:e.data("_vgwrapheight")+"px"},e.data("_vgopt").time||500,"easeOutQuart"):(clearTimeout(e.data("_vgwraptimeout")),e.data("_vgwraptimeout",setTimeout(function(){t.browser.msie?e.height(e.data("_vgwrapheight")):e.animate({height:e.data("_vgwrapheight")+"px"},e.data("_vgopt").time||500,"easeOutQuart")},i)))}function c(a){var e;a.each(function(){e=t(this),e.css("left",e.data("_vgleft")+"px"),e.css("top",e.data("_vgtop")+"px")})}function s(a,e,i,n){var d,o,r,g=t(a).parent(),p=!1,c=a.length;for(d=0;c>d;d++)o=t(a[d]),r=o.position(),(r.left!=o.data("_vgleft")||r.top!=o.data("_vgtop"))&&(p=!0);p&&("function"==typeof g.data("_vgopt").onStart&&g.data("_vgopt").onStart(),a.each(function(d){var o=t(this),r={duration:i,easing:e};a.size()-1==d&&(r.complete=g.data("_vgopt").onFinish||null),clearTimeout(o.data("_vgtimeout")),o.data("_vgtimeout",setTimeout(function(){o.animate({left:o.data("_vgleft")+"px",top:o.data("_vgtop")+"px"},r)},d*n))}))}function v(e){e.each(function(){var e=t(this);clearTimeout(e.data("_vgtimeout")),e.data("_vgtimeout",setTimeout(function(){a(e),s(e.data("_vgchild"),e.data("_vgopt").easing||"linear",e.data("_vgopt").time||500,e.data("_vgopt").delay||0)},500))})}function u(a,e){var i=t("<span />").text(" ").attr("id","_vgridspan").hide().appendTo("body");i.data("size",i.css("font-size")),i.data("timer",setInterval(function(){i.css("font-size")!=i.data("size")&&(i.data("size",i.css("font-size")),e(a))},1e3))}function h(a,e){a.data("vgrid-image-event-added")||(a.data("vgrid-image-event-added",1),a.bind("vgrid-added",function(){a.find("img").each(function(){var i=t(this);i.data("vgrid-image-handler")||(i.data("vgrid-image-handler",1),i.bind("load",function(){e(a)}))})})),a.trigger("vgrid-added");var i=a.append,n=a.prepend;a.append=function(){i.apply(a,arguments),a.trigger("vgrid-added")},a.prepend=function(){n.apply(a,arguments),a.trigger("vgrid-added")}}t.fn.extend({vgrid:function(e){var i=t(this),n=e||{};return n.easeing&&(n.easing=n.easeing),i.each(function(){var e=t(this);if(e.data("_vgopt",n),e.data("_vgchild",e.find("> *")),e.data("_vgdefchild",e.data("_vgchild")),e.css({position:"relative",width:"auto"}),e.data("_vgchild").css("position","absolute"),a(e),c(e.data("_vgchild")),e.data("_vgopt").fadeIn){var i="object"==typeof e.data("_vgopt").fadeIn?e.data("_vgopt").fadeIn:{time:e.data("_vgopt").fadeIn};e.data("_vgchild").each(function(a){var e=t(this);return"none"==e.css("display")?!0:(e.stop().fadeTo(0,0),void setTimeout(function(){e.stop().fadeTo(i.time||250,1)},a*(i.delay||0)))})}t(window).resize(function(){v(e)}),n.useLoadImageEvent&&h(e,v),n.useFontSizeListener&&u(e,v)}),i},vgrefresh:function(e,i,n,d){var o=t(this);return o.each(function(){var o=t(this),r=o.data("_vgopt")||{};o.data("_vgchild")&&(o.data("_vgchild",o.find("> *")),o.data("_vgchild").css("position","absolute"),a(o),i="number"==typeof i?i:o.data("_vgopt").time||500,n="number"==typeof n?n:o.data("_vgopt").delay||0,s(o.data("_vgchild"),e||o.data("_vgopt").easing||"linear",i,n),"function"==typeof d&&setTimeout(d,o.data("_vgchild").length*n+i)),r.useLoadImageEvent&&h(o,v)}),o},vgsort:function(e,i,n,d){var o=t(this);return o.each(function(){var o=t(this);o.data("_vgchild")&&(o.data("_vgchild",o.data("_vgchild").sort(e)),o.data("_vgchild").each(function(){t(this).appendTo(o)}),a(o),s(o.data("_vgchild"),i||o.data("_vgopt").easing||"linear","number"==typeof n?n:o.data("_vgopt").time||500,"number"==typeof d?d:o.data("_vgopt").delay||0))}),o}})}(jQuery);